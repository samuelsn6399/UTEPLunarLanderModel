%% Build and Define the parameters to be varied for the Monte Carlo Sim
% Define the name, description, units, nominal value, standard deviation,
% and distribution technique for each of the parameters to be varied
% 'G' = Gaussian Distribution
% 'U' = Uniform Distribution
% Standard Deviation for Uniform Distribution denotes the + or - bounds
% clear; clc;


%% Lander-Environment Type
LanderType = 0; % Nominal-performing Lander
% LanderType = 1; % Under-performing Lander
% LanderType = 2; % Over-performing Lander
EnvironmentType = 0; % Nominal Environment
% EnvironmentType = 1; % Rough Environment
% EnvironmentType = 2; % Ideal/Calm Environment


%% Lander Parameters
switch LanderType
    
    % Nominal-performing Lander
    case 0 
        param(1) = struct('Name', 'CE_Trans', ...
            'Description', 'The translational offset value in x,y,z cordinates of the Center Engine', ...
            'Units', 'm', ...
            'NomVal', [0, 0, 0], ...
            'StandDev', [0.01, 0, 0], ...
            'Distribution', 'G');

        param(2) = struct('Name', 'CE_Theta', ...
            'Description', 'The offset angle of the Center Engine about the x,y,z axis', ...
            'Units', 'deg', ...
            'NomVal', [90, 90, 0], ...
            'StandDev', [0, 0, 1], ...
            'Distribution', 'G');
        
        param(8) = struct('Name', 'Aero_Coeff', ...
            'Description', 'Offset Scale Factor for Cm of the lander', ...
            'Units', 'N/A', ...
            'NomVal', 0, ... % Nominal values are changing dependent on phi, so center distribution about 0 and add nominal values in Load_Aero_Data_Variable
            'StandDev', 0.1, ...
            'Distribution', 'U');

        param(9) = struct('Name', 'MOI', ...
            'Description', 'Inertia Matrix of the lander', ...
            'Units', 'Kg*m^2', ...
            'NomVal', [12 12 18], ...
            'StandDev', [2.4 2.4 3.6], ...
            'Distribution', 'U');

        param(10) = struct('Name', 'CE_ISP', ...
            'Description', 'Specific impulse of the Center Engine', ...
            'Units', 's', ...
            'NomVal', 40, ...
            'StandDev', 2, ...
            'Distribution', 'G');

        param(11) = struct('Name', 'CE_Thrust', ...
            'Description', 'Thrust generated by the center engine', ...
            'Units', 'N', ...
            'NomVal', 132, ...
            'StandDev', 5, ...
            'Distribution', 'G');

    % Under-performing Lander
    case 1
        param(1) = struct('Name', 'CE_Trans', ...
            'Description', 'The translational offset value in x,y,z cordinates of the Center Engine', ...
            'Units', 'm', ...
            'NomVal', [0, 0, 0], ...
            'StandDev', [0.03, 0, 0], ... % For Under Performing Lander: Decrease precision in CE allignment
            'Distribution', 'U');

        param(2) = struct('Name', 'CE_Theta', ...
            'Description', 'The offset angle of the Center Engine about the x,y,z axis', ...
            'Units', 'deg', ...
            'NomVal', [90, 90, 0], ...
            'StandDev', [0, 0, 10], ... % For Under Performing Lander: Decrease precision in CE allignment
            'Distribution', 'U');
        
        param(8) = struct('Name', 'Aero_Coeff', ...
            'Description', 'Offset Scale Factor for Cm of the lander', ...
            'Units', 'N/A', ...
            'NomVal', 0.05, ... % for 3DOF sim a phi of 5 deg is const and Cm is nominally 0.2586
                            ... % for under-performing lander: increase the effect of wind on the pitching moment
            'StandDev', 0.1, ...
            'Distribution', 'U');

        param(9) = struct('Name', 'MOI', ...
            'Description', 'Inertia Matrix of the lander', ...
            'Units', 'Kg*m^2', ...
            'NomVal', [14 14 20], ... % for under-performing lander: increase MOI (by 2 nominal) for a sluggish pitch response
            'StandDev', [2.4 2.4 3.6], ...
            'Distribution', 'U');

        param(10) = struct('Name', 'CE_ISP', ...
            'Description', 'Specific impulse of the Center Engine', ...
            'Units', 's', ...
            'NomVal', 36, ... % for under-performing lander: decrease specific impulse (by 4 nominal)for an inefficient engine
            'StandDev', 2, ...
            'Distribution', 'G');

        param(11) = struct('Name', 'CE_Thrust', ...
            'Description', 'Thrust generated by the center engine', ...
            'Units', 'N', ...
            'NomVal', 120, ... % for under-performing lander: decrease Thrust generated by center engine (by 12 nominal)for an inefficient engine
            'StandDev', 5, ...
            'Distribution', 'G');

    % Over-performing Lander
    case 2
        param(1) = struct('Name', 'CE_Trans', ...
            'Description', 'The translational offset value in x,y,z cordinates of the Center Engine', ...
            'Units', 'm', ...
            'NomVal', [0, 0, 0], ...
            'StandDev', [0.005, 0, 0], ...  % For Over Performing Lander: Increase precision in CE allignment
            'Distribution', 'G');

        param(2) = struct('Name', 'CE_Theta', ...
            'Description', 'The offset angle of the Center Engine about the x,y,z axis', ...
            'Units', 'deg', ...
            'NomVal', [90, 90, 0], ...
            'StandDev', [0, 0, 0.5], ... % For Over Performing Lander: Increase precision in CE allignment
            'Distribution', 'G');
        
        param(8) = struct('Name', 'Aero_Coeff', ...
            'Description', 'Offset Scale Factor for Cm of the lander', ...
            'Units', 'N/A', ...
            'NomVal', -0.05, ... % for 3DOF sim a phi of 5 deg is const and Cm is nominally 0.2586
                         ... % for over-performing lander: decrease the effect of wind on the pitching moment
            'StandDev', 0.1, ...
            'Distribution', 'U');

        param(9) = struct('Name', 'MOI', ...
            'Description', 'Inertia Matrix of the lander', ...
            'Units', 'Kg*m^2', ...
            'NomVal', [10 10 16], ... % for Over-performing lander: decrease MOI (by 2 nominal) for a faster pitch response
            'StandDev', [2.4 2.4 3.6], ...
            'Distribution', 'U');

        param(10) = struct('Name', 'CE_ISP', ...
            'Description', 'Specific impulse of the Center Engine', ...
            'Units', 's', ...
            'NomVal', 44, ... % for over-performing lander: increase specific impulse (by 4 nominal)for an efficient engine
            'StandDev', 2, ...
            'Distribution', 'G');

        param(11) = struct('Name', 'CE_Thrust', ...
            'Description', 'Thrust generated by the center engine', ...
            'Units', 'N', ...
            'NomVal', 144, ... % for over-performing lander: increase Thrust generated by center engine (by 12 nominal)for an efficient engine
            'StandDev', 5, ...
            'Distribution', 'G');

end

%% Environemnt Parameters
switch EnvironmentType

    % Nominal Ennvironemnt
    case 0
        param(3) = struct('Name', 'Wind_Vel', ...
            'Description', 'Steady state wind velocity', ...
            'Units', 'knotts', ...
            'NomVal', 8, ...
            'StandDev', 3, ...
            'Distribution', 'G');

        param(4) = struct('Name', 'Wind_Dir', ...
            'Description', 'Steady state wind direction', ...
            'Units', 'deg', ...
            'NomVal', 0, ...
            'StandDev', 180, ...
            'Distribution', 'U');

        param(5) = struct('Name', 'Gust_Coeff', ...
            'Description', 'Wind Gust coefficient; the peak gust velocity is this coefficient multiplied by the steady state wind speed', ...
            'Units', 'N/A', ...
            'NomVal', 1.4, ...
            'StandDev', 0.4, ...    % A wind gust coeff = 1 means there is no wind gust, wind gust coeff < 1 means there is a slight break or dip in the wind velocity (which is possible)
            'Distribution', 'G');

        param(6) = struct('Name', 'Gust_Dur', ...
            'Description', 'Wind Gust duration', ...
            'Units', 'sec', ...
            'NomVal', 10, ...
            'StandDev', 2.24, ...
            'Distribution', 'G');

        param(7) = struct('Name', 'Gust_Begin', ...
            'Description', 'Start time of the wind gust', ...
            'Units', 'sec', ...
            'NomVal', 10, ...
            'StandDev', 10, ...
            'Distribution', 'U');

    % Rough Environment
    case 1
        param(3) = struct('Name', 'Wind_Vel', ...
            'Description', 'Steady state wind velocity', ...
            'Units', 'knotts', ...
            'NomVal', 14, ... % for Rough Environment: Increase wind Speed (by 6 nominal)
            'StandDev', 3, ...
            'Distribution', 'G');

        param(4) = struct('Name', 'Wind_Dir', ...
            'Description', 'Steady state wind direction', ...
            'Units', 'deg', ...
            'NomVal', 0, ... % Same as nominal
            'StandDev', 180, ...
            'Distribution', 'U');

        param(5) = struct('Name', 'Gust_Coeff', ...
            'Description', 'Wind Gust coefficient; the peak gust velocity is this coefficient multiplied by the steady state wind speed', ...
            'Units', 'N/A', ...
            'NomVal', 2, ... % for Rough Environment: Increase Gust coeff (by 0.6 nominal)
            'StandDev', 0.4, ...    
            'Distribution', 'G');

        param(6) = struct('Name', 'Gust_Dur', ...
            'Description', 'Wind Gust duration', ...
            'Units', 'sec', ...
            'NomVal', 10, ... % Same as nominal
            'StandDev', 2.24, ...
            'Distribution', 'G');

        param(7) = struct('Name', 'Gust_Begin', ...
            'Description', 'Start time of the wind gust', ...
            'Units', 'sec', ...
            'NomVal', 10, ... % Same as nominal
            'StandDev', 10, ...
            'Distribution', 'U');    
    
    % Ideal/Calm Environment
    case 2
        param(3) = struct('Name', 'Wind_Vel', ...
            'Description', 'Steady state wind velocity', ...
            'Units', 'knotts', ...
            'NomVal', 4, ... % for Calm Environment: decrease wind Speed (by 4 nominal) and tighten distribution 
            'StandDev', 2, ...
            'Distribution', 'G');

        param(4) = struct('Name', 'Wind_Dir', ...
            'Description', 'Steady state wind direction', ...
            'Units', 'deg', ...
            'NomVal', 0, ... % Same as nominal
            'StandDev', 180, ...
            'Distribution', 'U');

        param(5) = struct('Name', 'Gust_Coeff', ...
            'Description', 'Wind Gust coefficient; the peak gust velocity is this coefficient multiplied by the steady state wind speed', ...
            'Units', 'N/A', ...
            'NomVal', 1.1, ... % for Calm Environment: Decrease Gust coeff (by 0.3 nominal) and tighten distribution
            'StandDev', 0.1, ...  
            'Distribution', 'G');

        param(6) = struct('Name', 'Gust_Dur', ...
            'Description', 'Wind Gust duration', ...
            'Units', 'sec', ...
            'NomVal', 10, ... % Same as nominal
            'StandDev', 2.24, ...
            'Distribution', 'G');

        param(7) = struct('Name', 'Gust_Begin', ...
            'Description', 'Start time of the wind gust', ...
            'Units', 'sec', ...
            'NomVal', 10, ... % Same as nominal
            'StandDev', 10, ...
            'Distribution', 'U');

end

%% Display Monte Carlo Parameters
% disp('--- MONTE CARLO PARAMETERS ---')
% disp('______________________________')
